import{useState as t,useEffect as n,useRef as e}from"react";function r(n){const[e,r]=t(n),[o,c]=t(void 0);return[e,o,function(t){c(e),r(t)}]}function o(e,r){const[o,c]=t(function(t,n){const e=localStorage.getItem(t);if(e){try{const t=JSON.parse(e);if(t)return t}catch(t){}return e}return n}(e,r));return n((()=>{localStorage.setItem(e,JSON.stringify(o))}),[o]),[o,c]}function c(e,r){const[o,c]=t(function(t,n){const e=localStorage.getItem(t);if(e){try{const t=JSON.parse(e);if(t)return t}catch(t){}return e}return n}(e,r)),i=new Event("storage");return n((()=>{window.addEventListener("storage",(()=>{const t=localStorage.getItem(e);if(t){try{const n=JSON.parse(t);if(n!=o)return void c(n)}catch(t){}if(t!=o)return void c(t)}return r}))}),[]),n((()=>{localStorage.setItem(e,o),window.dispatchEvent(i)}),[o]),[o,c]}function i(t,e,r){n((()=>{const n=setTimeout((()=>{t()}),r);return()=>{clearTimeout(n)}}),[...e])}function u(r,o,c){const[i,u]=t(!1);let a=e(null);const s=()=>{var t;a.current?(null===(t=a.current)||void 0===t||t.call(a),a.current=null,setTimeout(s,c)):u(!1)};n((()=>{i?a.current=r:(u(!0),r(),setTimeout(s,c))}),[...o])}function a(){return function(t){navigator.clipboard.writeText(t)}}function s(e){const[r,o]=t([window.innerWidth,window.innerHeight]),[c,i]=t("");return n((()=>(window.addEventListener("resize",(t=>{o([window.innerWidth,window.innerHeight])})),()=>{window.removeEventListener("resize",(t=>{}))})),[]),u((()=>{const t=null==e?void 0:e.sort(((t,n)=>{let e=0,r=0;return Object.keys(t).forEach((t=>e++)),Object.keys(n).forEach((t=>r++)),r-e}));null==t||t.forEach((t=>{let n=t.name;delete t.name;for(const e of Object.keys(t)){switch(e){case"maxWidth":if(r[0]>t[e])return;break;case"minWidth":if(r[0]<t[e])return;break;case"maxHeight":if(r[1]>t[e])return;break;case"minHeight":if(r[1]<t[e])return}i(n)}}))}),[r],100),{width:r[0],height:r[1],screen:c}}function d(t,r){const o=e(!0);n((()=>{o.current&&(t(),o.current=!1)}),[...r])}function f(t,r){const o=e(!0);n((()=>{o.current?o.current=!1:t()}),[...r])}function l(e,r){const[o,c]=t(!0),[i,u]=t(),[a,s]=t(void 0);return n((()=>{(async()=>{try{const t=await fetch(e,r);if(!t.ok)throw new Error(t.status.toString());const n=await t.json();s(n)}catch(t){u(t)}c(!1)})()}),[]),{loading:o,error:i,data:a}}function h(t){n((()=>{const n=document.createElement("script");return n.src=t,n.async=!0,document.body.appendChild(n),()=>{document.body.removeChild(n)}}),[])}export{a as useClipboard,i as useDebounce,l as useFetch,d as useInitialRender,c as useLocalStorage,f as useNoInitialRender,o as usePersistentState,r as usePrevState,s as useScreen,h as useScript,u as useThrottle};
