"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(t,n,r){const[o,s]=e.useState(!1);let c=e.useRef(null);const i=()=>{var e;c.current?(null===(e=c.current)||void 0===e||e.call(c),c.current=null,setTimeout(i,r)):s(!1)};e.useEffect((()=>{o?c.current=t:(s(!0),t(),setTimeout(i,r))}),[...n])}exports.useClipboard=function(){return function(e){navigator.clipboard.writeText(e)}},exports.useDebounce=function(t,n,r){e.useEffect((()=>{const e=setTimeout((()=>{t()}),r);return()=>{clearTimeout(e)}}),[...n])},exports.useFetch=function(t,n){const[r,o]=e.useState(!0),[s,c]=e.useState(),[i,u]=e.useState(void 0);return e.useEffect((()=>{(async()=>{try{const e=await fetch(t,n);if(!e.ok)throw new Error(e.status.toString());const r=await e.json();u(r)}catch(e){c(e)}o(!1)})()}),[]),{loading:r,error:s,data:i}},exports.useInitialRender=function(t,n){const r=e.useRef(!0);e.useEffect((()=>{r.current&&(t(),r.current=!1)}),[...n])},exports.useLocalStorage=function(t,n){const[r,o]=e.useState(function(e,t){const n=localStorage.getItem(e);if(n){try{const e=JSON.parse(n);if(e)return e}catch(e){}return n}return t}(t,n)),s=new Event("storage");return e.useEffect((()=>{window.addEventListener("storage",(()=>{const e=localStorage.getItem(t);if(e){try{const t=JSON.parse(e);if(t!=r)return void o(t)}catch(e){}if(e!=r)return void o(e)}return n}))}),[]),e.useEffect((()=>{localStorage.setItem(t,r),window.dispatchEvent(s)}),[r]),[r,o]},exports.useNoInitialRender=function(t,n){const r=e.useRef(!0);e.useEffect((()=>{r.current?r.current=!1:t()}),[...n])},exports.usePersistentState=function(t,n){const[r,o]=e.useState(function(e,t){const n=localStorage.getItem(e);if(n){try{const e=JSON.parse(n);if(e)return e}catch(e){}return n}return t}(t,n));return e.useEffect((()=>{localStorage.setItem(t,JSON.stringify(r))}),[r]),[r,o]},exports.usePrevState=function(t){const[n,r]=e.useState(t),[o,s]=e.useState(void 0);return[n,o,function(e){s(n),r(e)}]},exports.useQueryState=function(t){const n=new URLSearchParams(window.location.search),[r,o]=e.useState(n.get(t)||"");return e.useEffect((()=>{const e=new URL(window.location.pathname+window.location.search),n=e.searchParams;""==r?n.delete(t):n.set(t,r),e.search=n.toString();const o=e.toString()+window.location.hash;window.history.replaceState({},document.title,o)}),[r]),[r,o]},exports.useScreen=function(n){const[r,o]=e.useState([window.innerWidth,window.innerHeight]),[s,c]=e.useState("");return e.useEffect((()=>(window.addEventListener("resize",(e=>{o([window.innerWidth,window.innerHeight])})),()=>{window.removeEventListener("resize",(e=>{}))})),[]),t((()=>{const e=null==n?void 0:n.sort(((e,t)=>{let n=0,r=0;return Object.keys(e).forEach((e=>n++)),Object.keys(t).forEach((e=>r++)),r-n}));null==e||e.forEach((e=>{let t=e.name;delete e.name;for(const n of Object.keys(e)){switch(n){case"maxWidth":if(r[0]>e[n])return;break;case"minWidth":if(r[0]<e[n])return;break;case"maxHeight":if(r[1]>e[n])return;break;case"minHeight":if(r[1]<e[n])return}c(t)}}))}),[r],100),{width:r[0],height:r[1],screen:s}},exports.useScript=function(t){e.useEffect((()=>{const e=document.createElement("script");return e.src=t,e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[])},exports.useThrottle=t;
